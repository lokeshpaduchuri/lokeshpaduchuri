<main class="home">
  <app-hero-banner></app-hero-banner>
  <section class="home__stack card">
    <app-tech-stack></app-tech-stack>
  </section>
  <section class="home__projects card">
    <app-project-card
      [title]="project?.title"
      [description]="project?.description"
      [image]="project?.image"
      [link]="project?.link"
      (readMore)="openSlideIn(project!)"
    ></app-project-card>
    <a routerLink="/projects" class="home__link">View All Projects</a>
  </section>
  <section class="home__blog card">
    <app-blog-card
      [title]="blog?.title"
      [excerpt]="blog?.excerpt"
      [link]="blog?.link"
      [blog]="blog"
      (readMore)="openBlogSlide(blog!)"
    ></app-blog-card>
  </section>
  <app-contact-cta></app-contact-cta>

  <div
    class="fixed inset-0 bg-black/70 z-40"
    *ngIf="selectedProject"
    (click)="closePanel()"
  ></div>
  <aside
    *ngIf="selectedProject"
    class="fixed top-0 right-0 h-full w-full max-w-lg bg-zinc-900 text-white z-50 shadow-xl transform transition-transform duration-300 ease-in-out"
    [ngClass]="{ 'translate-x-0': selectedProject, 'translate-x-full': !selectedProject }"
  >
    <button class="absolute top-4 right-4 text-xl" (click)="closePanel()" aria-label="Close panel">✕</button>
    <div class="p-6 space-y-4 overflow-y-auto h-full">
      <h3 class="text-2xl font-semibold">{{ selectedProject?.title }}</h3>
      <img *ngIf="selectedProject?.image" [src]="selectedProject?.image" alt="{{ selectedProject?.title }}" class="w-full h-48 object-cover rounded-md" />
      <p>{{ selectedProject?.description }}</p>
      <ul class="list-disc list-inside space-y-1">
        <li *ngFor="let tech of selectedProject?.tech">{{ tech }}</li>
      </ul>
      <a
        *ngIf="selectedProject?.liveLink"
        [href]="selectedProject?.liveLink"
        target="_blank"
        class="inline-block bg-green-600 text-black px-4 py-2 rounded hover:bg-green-500 transition"
        >Live Demo</a
      >
    </div>
  </aside>

  <div
    class="fixed inset-0 bg-black/70 z-40"
    *ngIf="selectedBlog"
    (click)="closeBlogSlide()"
  ></div>
  <aside
    *ngIf="selectedBlog"
    class="fixed top-0 right-0 h-full w-full max-w-lg bg-zinc-900 text-white z-50 shadow-xl transform transition-transform duration-300 ease-in-out"
    [ngClass]="{ 'translate-x-0': selectedBlog, 'translate-x-full': !selectedBlog }"
  >
    <button class="absolute top-4 right-4 text-xl" (click)="closeBlogSlide()" aria-label="Close panel">✕</button>
    <div class="p-6 space-y-4 overflow-y-auto h-full">
      <h3 class="text-2xl font-semibold">{{ selectedBlog?.title }}</h3>
      <div class="text-gray-400 text-sm">{{ selectedBlog?.date }}</div>
      <p class="whitespace-pre-line">{{ selectedBlog?.content }}</p>
    </div>
  </aside>
</main>
